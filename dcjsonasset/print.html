<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DataConfig Json Asset Book</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="DataConfig JSON backed DataAsset Plugin">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="Tutorial.html"><strong aria-hidden="true">2.</strong> Tutorial</a></li><li class="chapter-item expanded "><a href="Integration.html"><strong aria-hidden="true">3.</strong> Integration</a></li><li class="chapter-item expanded "><a href="Schema.html"><strong aria-hidden="true">4.</strong> Schema</a></li><li class="chapter-item expanded "><a href="Tooling.html"><strong aria-hidden="true">5.</strong> Tooling</a></li><li class="chapter-item expanded "><a href="Caveats.html"><strong aria-hidden="true">6.</strong> Caveats</a></li><li class="chapter-item expanded "><a href="Changes.html"><strong aria-hidden="true">7.</strong> Changes</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">DataConfig Json Asset Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="dataconfig-json-asset-book"><a class="header" href="#dataconfig-json-asset-book">DataConfig JSON Asset Book</a></h1>
<p><img src="Images/Thumbnail_284_284.png" alt="Thumbnail_284_284" /></p>
<p><a href="https://www.unrealengine.com/marketplace/en-US/product/dataconfig-json-asset" title="DataConfig JSON Asset">DataConfig JSON Asset</a> (<code>DcJsonAsset</code> in short) is a UE plugin that does one particular thing:</p>
<p><strong>Import JSON files into Unreal Engine as DataAsset</strong></p>
<p>Notably features:</p>
<ul>
<li>Relaxed JSON parser that supports comments and trailing comma.</li>
<li>Precise diagnostics on parse error.</li>
<li><a href="Tooling.html">Batch import and reimport</a>.</li>
</ul>
<p>It's built on top of <a href="https://slowburn.dev/dataconfig/" title="DataConfig">DataConfig</a>, a serialization framework for Unreal Engine.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<ul>
<li>Checkout our <a href="https://www.unrealengine.com/marketplace/en-US/product/dataconfig-json-asset" title="DataConfig JSON Asset">UE Marketplace</a> page.</li>
<li>See <a href="Tutorial.html">Tutorial</a> for a quick guided tour.</li>
<li>See <a href="Schema.html">Schema</a> for supported JSON spec.</li>
<li>See <a href="Changes.html">Changes</a> for versioning history.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tutorial"><a class="header" href="#tutorial">Tutorial</a></h1>
<p>This page shows a quick demo of how to use <code>DcJsonAsset</code>.</p>
<ol>
<li>
<p>First ensure that the plugin is properly integrated in your project. Open <code>Settings -&gt; Plugins</code> and search for <strong>DataConfig JSON Asset</strong>:</p>
<p><img src="Images/Tutorial-Plugins.png" alt="DataConfig JsonAsset Plugin" /></p>
</li>
<li>
<p>We have bundled a simple Blueprint class <code>/DcJsonAsset/DcFixture/DcTestBPDataAsset.DcTestBPDataAsset</code>:</p>
<p><img src="Images/Tutorial-DcTestBPDataAsset.png" alt="DcTestBPDataAsset" /></p>
<p>It's almost equivalent to a C++ UCLASS like this:</p>
<pre><code class="language-c++">UCLASS()
class UDcTestBPDataAsset : public UDcPrimaryImportedDataAsset {
GENERATED_BODY()
public:
    UPROPERTY(EditAnywhere) FString StrField;
    UPROPERTY(EditAnywhere) int IntField;
    UPROPERTY(EditAnywhere) FName NameField;
};
</code></pre>
</li>
<li>
<p>Open your text editor and copy in the JSON below, and save the file on disk:</p>
<pre><code class="language-json">{
    &quot;$type&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAsset&quot;,
    &quot;StrField&quot; : &quot;Hello DataConfig Json Asset&quot;,
    &quot;IntField&quot; : 43,
}
</code></pre>
</li>
<li>
<p>Then drop the file from the explorer into &quot;Content Browser&quot; and it's done.</p>
<p><img src="Images/Tutorial-Import.webp" alt="ImportExampleJson" /></p>
</li>
<li>
<p>Say we made a mistake when editing the JSON file:</p>
<pre><code class="language-json">{
    &quot;$type&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAsset&quot;,
    &quot;StrField&quot; : &quot;Hello DataConfig Json Asset&quot;,
    &quot;IntField&quot; : 43,
    &quot;NoField&quot; : &quot;Does not exist&quot;, // &lt;- field doesn't exist in class
}
</code></pre>
<p>Right click on the <code>Example</code> asset and select reimport. DcJsonAsset would report this error in the &quot;Message Log&quot; window:</p>
<p><img src="Images/Tutorial-MessageLogDiagnostics.png" alt="MessageLogDiagnostics" /></p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integration"><a class="header" href="#integration">Integration</a></h1>
<h2 id="c-integration"><a class="header" href="#c-integration">C++ Integration</a></h2>
<p>The main entry point for C++ integration is the <code>DcJsonAssetRuntime</code> module. The most straight forward way to integrate is to add <code>DcJsonAssetRuntime</code> to your game module's <code>Game.Build.cs</code>:</p>
<pre><code class="language-c++">using UnrealBuildTool;
public class DcProjectGame : ModuleRules
{
    public DcProjectGame(ReadOnlyTargetRules Target) : base(Target)
    {
        // ...
        PublicDependencyModuleNames.AddRange(new string[] {
            &quot;Core&quot;,
            &quot;CoreUObject&quot;,
            &quot;Engine&quot;
            &quot;DcJsonAssetRuntime&quot;, // &lt;-- add reference here
        });
    }
}
</code></pre>
<p>Then in your game module you can subclass <code>UDcImportedDataAsset</code> or <code>UDcPrimaryImportedDataAsset</code> to start structuring your data:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports1.h
UCLASS()
class UDcJsonAssetTestPrimaryDataAsset1 : public UDcPrimaryImportedDataAsset
{
    // ...
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FName AlphaName;
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) bool AlphaBool;
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FString AlphaStr;
};
</code></pre>
<p>If you're already deriving <code>UDataAsset</code> in your projects and wants to adapt them to be importable, you can implement <code>IDcImportedInterface</code> interface and the editor tooling would be able to detect them automatically. This is actually how <code>UDcImportedDataAsset</code> and <code>UDcPrimaryImportedDataAsset</code> are implemented:</p>
<pre><code class="language-c++">// DcJsonAssetRuntime/Public/DcImportedInterface.h
class DCJSONASSETRUNTIME_API IDcImportedInterface
{
    // ...
#if WITH_EDITORONLY_DATA
    virtual void GetAssetRegistryTags(TArray&lt;UObject::FAssetRegistryTag&gt;&amp; OutTags) const = 0;

    virtual UAssetImportData* GetAssetImportData() const = 0;
    virtual void SetAssetImportData(UAssetImportData* NewAssetImportData) = 0;
#endif // WITH_EDITORONLY_DATA
};

// DcJsonAssetRuntime\Public\DcImportedDataAsset.h
UCLASS()
class DCJSONASSETRUNTIME_API UDcImportedDataAsset : public UDataAsset, public IDcImportedInterface
{
    // ...
#if WITH_EDITORONLY_DATA
public:
    void GetAssetRegistryTags(TArray&lt;FAssetRegistryTag&gt;&amp; OutTags) const override;

    UAssetImportData* GetAssetImportData() const override;
    void SetAssetImportData(UAssetImportData* NewAssetImportData) override;

    /** Importing data and options used for this asset */
    UPROPERTY(VisibleAnywhere, Instanced, Category = ImportSettings)
    class UAssetImportData* AssetImportData;
#endif // WITH_EDITORONLY_DATA
};
</code></pre>
<h2 id="blueprint-integration"><a class="header" href="#blueprint-integration">Blueprint Integration</a></h2>
<p>We strongly recommend you author DataAsset classes in C++. It's more resilient and easier to debug this way. However Blueprint DataAsset, and Blueprint Enum/Struct etc are well supported and tested.</p>
<p>Create a Blueprint class and use <code>DcPrimaryImportedDataAsset</code> as base class:</p>
<p><img src="Images/Integration-BPDcPrimaryImportedDataAsset.png" alt="Blueprint DcPrimaryImportedDataAsset" /></p>
<p>The Blueprint Class can be used as a normal DataAsset. Note that the <code>Asset Import Data</code> is derived from the base class, which is needed for reimport and change detection.</p>
<p><img src="Images/Integration-ClassFields.png" alt="Class Fields" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="schema"><a class="header" href="#schema">Schema</a></h1>
<p>This page documents the JSON schema that DataConfig JSON Asset supports. Note that DcJsonAsset shares most common deserialize handlers from DataConfigCore, which is <a href="/dataconfig/Formats/JSON#schema" title="DataConfig - JSON - Schema">documented here</a>.</p>
<h2 id="root-type"><a class="header" href="#root-type">Root <code>$type</code></a></h2>
<p>The first thing when importing a JSON asset is to determine which class to deserialize into. It's specified by the <code>$type</code> field in the JSON source:</p>
<pre><code class="language-json">// DcJsonAsset/Tests/DcJsonFixture_Simple.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestPrimaryDataAsset1&quot;,
    &quot;AlphaName&quot; : &quot;Foo&quot;,
    &quot;AlphaBool&quot; : true, 
    &quot;AlphaStr&quot; : &quot;Bar&quot;
}
</code></pre>
<p>We call all object keys with <code>$</code> prefix <strong>meta fields</strong>. <code>$type</code> is one that's used a lot. Under the hood this <code>$type</code> field is handled separately from other fields:</p>
<ul>
<li><code>$type</code> must be the first field in the object. In fact all meta fields are order significant and needs to start as the beginning keys of a object.</li>
<li><code>$type</code> values must refers to a <code>UDcImportedDataAsset</code> or <code>UDcPrimaryImportedDataAsset</code> children:
<ul>
<li>If it's a native C++ class, refer to it by the class name without the <code>U</code> prefix. 
For example: <code>DcJsonAssetTestPrimaryDataAsset1</code></li>
<li>If it's a Blueprint Class, refer to it by the Blueprint asset path.
For example: <code>/DcJsonAsset/DcFixture/DcTestBPDataAsset</code></li>
</ul>
</li>
</ul>
<h2 id="scalar-types"><a class="header" href="#scalar-types">Scalar Types</a></h2>
<p>Most UE primitive types has pretty straight forward mappings to JSON data types:</p>
<table><thead><tr><th>UE Type</th><th>JSON Type</th><th>Example</th></tr></thead><tbody>
<tr><td>bool</td><td>Boolean</td><td>true, false</td></tr>
<tr><td>String, Name, Text</td><td>String</td><td>&quot;Foo&quot;</td></tr>
<tr><td>int, uint, float, double</td><td>Number</td><td>123, 234.5</td></tr>
</tbody></table>
<p>We additionally support a few scalar like data types:</p>
<h3 id="enums"><a class="header" href="#enums">Enums</a></h3>
<p>Enum can be deserialized from a string. Enum flags needs to be deserialized from a list of string:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports2.h
UCLASS()
class UDcJsonAssetTestDataAsset1_Enum : public UDcImportedDataAsset {
	// ...
	UPROPERTY(EditAnywhere) EDcJsonAssetTestEnum_Simple EnumField;
	UPROPERTY(EditAnywhere) EDcJsonAssetTestEnum_Flag EnumFlagField;
};

// DcJsonAsset/Tests/DcJsonFixture_Enum.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestDataAsset1_Enum&quot;,
    &quot;EnumField&quot; : &quot;Baz&quot;,
    &quot;EnumFlagField&quot; : [&quot;Alpha&quot;, &quot;Gamma&quot;], 
}
</code></pre>
<h3 id="gameplaytags"><a class="header" href="#gameplaytags">GameplayTags</a></h3>
<p><a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/Tags/index.html" title="Gameplay Tags">Gameplay Tag</a> structs <code>FGameplayTag</code> and <code>FGameplayTagContainer</code> are both supported:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports2.h 
UCLASS()
class UDcJsonAssetTestDataAsset2_GameplayTag : public UDcImportedDataAsset {
	// ...
	UPROPERTY(EditAnywhere) FGameplayTag GameplayTagField1;
	UPROPERTY(EditAnywhere) FGameplayTag GameplayTagField2;
	UPROPERTY(EditAnywhere) FGameplayTagContainer GameplayTagContainer;
};

// DcJsonAsset/Tests/DcJsonFixture_GameplayTag.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestDataAsset2_GameplayTag&quot;,
    &quot;GameplayTagField1&quot; : &quot;DcJsonAsset.Foo.Bar.Baz&quot;,
    &quot;GameplayTagField2&quot; : null,
    &quot;GameplayTagContainer&quot; : [
        &quot;DcJsonAsset.Foo.Bar&quot;,
        &quot;DcJsonAsset.Tar.Taz&quot;
    ]
}
</code></pre>
<h3 id="fprimaryassetid"><a class="header" href="#fprimaryassetid"><code>FPrimaryAssetId</code></a></h3>
<p><code>FPrimaryAssetId</code> is used to <a href="https://unrealcommunity.wiki/using-the-asset-manager-qj38astq" title="Using the Asset Manager">soft reference primary data assets</a>. It's serialized into a <code>Type:Name</code> string, and can be loaded from the same string form, or a full object path:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports3.h 
class UDcJsonAssetTestAssetTypes1 : public UDcPrimaryImportedDataAsset
{
    // ...
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FPrimaryAssetId AssetId1;
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FPrimaryAssetId AssetId2;
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FPrimaryAssetId AssetId3;
    UPROPERTY(EditAnywhere, Category=&quot;DcJsonAsset|Tests&quot;) FPrimaryAssetId AssetId4;
};

// DcJsonAsset/Tests/DcJsonFixture_PrimaryAssetId.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestAssetTypes1&quot;,
    &quot;AssetId1&quot; : null,
    &quot;AssetId2&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAssetInstance&quot;,
    &quot;AssetId3&quot; :
    {
        &quot;$type&quot; : &quot;DcTestBPDataAsset&quot;,
        &quot;$name&quot; : &quot;DcTestBPDataAssetInstance&quot;
    }
}
</code></pre>
<h2 id="containers-and-aggregates"><a class="header" href="#containers-and-aggregates">Containers and Aggregates</a></h2>
<p>UE containers mapping to JSON is also pretty unsurprising:</p>
<table><thead><tr><th>UE Type</th><th>JSON Type</th><th>Example</th></tr></thead><tbody>
<tr><td>Array, Set</td><td>Array</td><td>[&quot;foo&quot;, &quot;bar&quot;]</td></tr>
<tr><td>Map, Struct, Class Root</td><td>Object</td><td>{&quot;foo&quot;: &quot;bar&quot;}</td></tr>
</tbody></table>
<h2 id="object-references"><a class="header" href="#object-references">Object References</a></h2>
<p>UE provides a few options when referencing <code>UObject</code> instances:</p>
<table><thead><tr><th>Type</th><th>Example</th></tr></thead><tbody>
<tr><td><a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/ProgrammingWithCPP/Assets/ReferencingAssets/index.html#directpropertyreference" title="Direct Property Reference">Direct object reference</a></td><td><code>UObject*</code>, <code>AActor*</code></td></tr>
<tr><td><a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/ProgrammingWithCPP/Assets/ReferencingAssets/index.html#directpropertyreference" title="Direct Property Reference">Soft object reference</a></td><td><code>TSoftObjectPtr&lt;UObject&gt;</code>, <code>TSoftClassPtr&lt;UClass&gt;</code></td></tr>
<tr><td>Lazy object reference</td><td><code>TLazyObjectPtr&lt;UObject&gt;</code></td></tr>
<tr><td><a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/ProgrammingWithCPP/Assets/ReferencingAssets/index.html#indirectpropertyreference" title="Indirect Property Reference">Weak Object Reference</a></td><td><code>TWeakObjectPtr&lt;UObject&gt;</code></td></tr>
</tbody></table>
<p>All of these are supported for completeness sake. The recommendation is:</p>
<ul>
<li>Use direct or soft object reference for common object references.
It's the usual way to referencing objects.</li>
<li>Use soft object reference when pointing to <code>UDcImportedDataAsset/UDcPrimaryImportedDataAsset</code> derived classes.
It's specially handled that it won't load the object to deserialize. This means we can batch import a set of JSON assets that references each other, without the need to resolve the mutual dependencies among them. The downside is that we don't check that the object actually exist at import time.</li>
</ul>
<p>We allow a few options when referencing an object. Below is a example of object references: </p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports2.h
UCLASS()
class UDcJsonAssetTestDataAsset3_References : public UDcImportedDataAsset {
	// ...	
	UPROPERTY(EditAnywhere) UObject* DirectRef1;
	UPROPERTY(EditAnywhere) UObject* DirectRef2;
	UPROPERTY(EditAnywhere) UObject* DirectRef3;
	UPROPERTY(EditAnywhere) TSoftObjectPtr&lt;UDcPrimaryImportedDataAsset&gt; DcSoftImported1;
	UPROPERTY(EditAnywhere) TSoftObjectPtr&lt;UDcPrimaryImportedDataAsset&gt; DcSoftImported2;
};

// DcJsonAsset/Tests/DcJsonFixture_Refs.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestDataAsset3_References&quot;,
    &quot;DirectRef1&quot; : &quot;Blueprint'/DcJsonAsset/DcFixture/DcTestBPDataAsset.DcTestBPDataAsset'&quot;,
    &quot;DirectRef2&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAsset&quot;,
    &quot;DirectRef3&quot; : {
        &quot;$type&quot; : &quot;Blueprint&quot;,
        &quot;$path&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAsset&quot;
    },
    &quot;DcSoftImported1&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAssetInstance&quot;,
    &quot;DcSoftImported2&quot; : null
}
</code></pre>
<p>Note that:</p>
<ol>
<li><code>DirectRef1/2/3</code> are deserialized into identical references to the same object.</li>
<li><code>DcSoftImported1/2</code> are specially handled and <code>/Path/To/Content</code> are the only format that's supported.</li>
</ol>
<p>Blueprint classes can use <code>FSoftObjectPath/FSoftClassPath</code> to replace the templated C++ equivelent. It looks like this in the Blueprint editor:</p>
<p><img src="Images/Schema-SoftObjectClassPath.png" alt="Schema-SoftObjectClassPath" /></p>
<h2 id="inline-sub-objects"><a class="header" href="#inline-sub-objects">Inline Sub Objects</a></h2>
<p>UE already supports &quot;Inline Sub Objects&quot;, that is UCLASS marked with <a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/GameplayArchitecture/Classes/Specifiers/index.html" title="Class Specifiers"><code>DefaultToInstanced</code> specifier</a>. Editor would try to create new sub objects inline for these classes' references, rather than points to a existing one. It's also a way of doing data polymorphism in UE.</p>
<p>Given a simple class hierarchy like this:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports2.h
UCLASS(BlueprintType, EditInlineNew, DefaultToInstanced)
class UDcJsonAsset_BaseShape : public UObject 
	// ...
    UPROPERTY(EditAnywhere) FName ShapeName;
};

UCLASS()
class UDcJsonAsset_ShapeBox : public UDcJsonAsset_BaseShape 
	// ...
    UPROPERTY(EditAnywhere) float Height;
	UPROPERTY(EditAnywhere) float Width;
};

UCLASS()
class UDcJsonAsset_ShapeSquare : public UDcJsonAsset_BaseShape 
    // ...
	UPROPERTY(EditAnywhere) float Radius;
};
</code></pre>
<p>An asset can be loaded from a JSON like this:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports2.h
UCLASS()
class UDcJsonAssetTestDataAsset4_SubObjects : public UDcImportedDataAsset {
	UPROPERTY(EditAnywhere) UDcJsonAsset_BaseShape* ShapeField1;
	UPROPERTY(EditAnywhere) UDcJsonAsset_BaseShape* ShapeField2;
	UPROPERTY(EditAnywhere) UDcJsonAsset_BaseShape* ShapeField3;
};

// DcJsonAsset/Tests/DcJsonFixture_SubObjects.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestDataAsset4_SubObjects&quot;,
    &quot;ShapeField1&quot; : {
        &quot;$type&quot; : &quot;DcJsonAsset_ShapeBox&quot;,
        &quot;ShapeName&quot; : &quot;MyBox&quot;,
        &quot;Height&quot; : 43,
        &quot;Width&quot; : 25
    },
    &quot;ShapeField2&quot; : {
        &quot;$type&quot; : &quot;DcJsonAsset_ShapeSquare&quot;,
        &quot;Radius&quot; : 16
    },
    &quot;ShapeField3&quot; : null
}
</code></pre>
<h2 id="instanced-struct"><a class="header" href="#instanced-struct">Instanced Struct</a></h2>
<p>UE introduced <code>FInstancedStruct</code> with <a href="https://docs.unrealengine.com/5.0/en-US/API/Plugins/StructUtils/">StructUtils plugin</a> since 5.0 which implements lightweight polymorphic serialization. Given a struct hierarchy like this:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports3.h
USTRUCT(BlueprintType)
struct FDcJsonAssetTestStructShapeBase
{
    // ...
    UPROPERTY(EditAnywhere) FName ShapeName;
};

USTRUCT(BlueprintType)
struct FDcJsonAssetTestStructShapeRectangle : public FDcJsonAssetTestStructShapeBase
{
    // ...
    UPROPERTY(EditAnywhere) float Height;
    UPROPERTY(EditAnywhere) float Width;
};

USTRUCT(BlueprintType)
struct FDcJsonAssetTestStructShapeCircle : public FDcJsonAssetTestStructShapeBase
{
    // ...
    UPROPERTY(EditAnywhere) float Radius;
};
</code></pre>
<p>An asset can be loaded from a JSON like this:</p>
<pre><code class="language-c++">// DcJsonAssetTests/Private/DcTestImports3.h
UCLASS()
class UDcJsonAssetTestAssetInstancedStruct : public UDcPrimaryImportedDataAsset
{
    GENERATED_BODY()
public:
    UPROPERTY(EditAnywhere) FInstancedStruct Instanced1;
    UPROPERTY(EditAnywhere) FInstancedStruct Instanced2;
    UPROPERTY(EditAnywhere) FInstancedStruct Instanced3;
};

// DcJsonAsset/Tests/DcJsonFixture_InstancedStruct.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestAssetInstancedStruct&quot;,
    &quot;Instanced1&quot; : null,
    &quot;Instanced2&quot; :
    {
        &quot;$type&quot; : &quot;DcJsonAssetTestStructShapeRectangle&quot;,
        &quot;ShapeName&quot; : &quot;MyBox&quot;,
        &quot;Height&quot; : 3,
        &quot;Width&quot; : 4
    },
    &quot;Instanced3&quot; :
    {
        &quot;$type&quot; : &quot;DcJsonAssetTestStructShapeCircle&quot;,
        &quot;ShapeName&quot; : &quot;MyCircle&quot;,
        &quot;Radius&quot; : 5
    }
}
</code></pre>
<h2 id="other-root-meta-fields"><a class="header" href="#other-root-meta-fields">Other Root Meta Fields</a></h2>
<p>In the root JSON object we now check for some other <code>$meta</code> fields.</p>
<h3 id="reimport-keep-instance"><a class="header" href="#reimport-keep-instance"><code>$reimport-keep-instance</code></a></h3>
<p>By default imported <code>UDcImportedDataAsset</code> object is destroyed and recreated on every import. Now <code>$reimport-keep-instance</code> changes the behavior and it would reuse the existing object. This is mostly for more advanced setups.</p>
<p>The main reason we create a new object on every import is that one can hardly reset the values of the dirty object. Consider the example below:</p>
<pre><code class="language-json">// DcJsonAsset/Tests/DcJsonFixture_Simple.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestPrimaryDataAsset1&quot;,
    &quot;AlphaName&quot; : &quot;Foo&quot;,
    &quot;AlphaBool&quot; : true, 
    &quot;AlphaStr&quot; : &quot;Bar&quot;
}

// reimport with the new content below
// DcJsonAsset/Tests/DcJsonFixture_Simple_ReimportKeepInstance.json
{
    &quot;$type&quot; : &quot;DcJsonAssetTestPrimaryDataAsset1&quot;,
    &quot;$reimport-keep-instance&quot; : true,
    &quot;AlphaStr&quot; : &quot;Changed&quot;
}
</code></pre>
<p>After reimport the resulting object would be like this:</p>
<pre><code class="language-json">{
    &quot;AlphaName&quot; : &quot;Foo&quot;,    // dirty value from last time
    &quot;AlphaBool&quot; : true,     // dirty value from last time
    &quot;AlphaStr&quot; : &quot;Changed&quot;  // new value in reimport
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tooling"><a class="header" href="#tooling">Tooling</a></h1>
<p>The plugin also comes with a few supporting tooling and settings.</p>
<h2 id="settings"><a class="header" href="#settings">Settings</a></h2>
<p>&quot;DataConfig JsonAsset&quot; settings can be found in &quot;Project Settings&quot; with the same name:</p>
<table><thead><tr><th>Name</th><th>Usage</th></tr></thead><tbody>
<tr><td>Suffixes</td><td>The file suffix that this plugin looks for. If you're already using <code>.json</code> suffix for other purposes you can add or change a new one.</td></tr>
</tbody></table>
<h2 id="console-commands"><a class="header" href="#console-commands">Console Commands</a></h2>
<p>We also provide some handy commands that can be used for batch processing.</p>
<table><thead><tr><th>Command</th><th>Example</th><th>Usage</th></tr></thead><tbody>
<tr><td><code>Dc.ImportDirectory</code></td><td><code>Dc.ImportDirectory &quot;C:/Src/Dir&quot; &quot;/Game/Target&quot;</code></td><td>Recursively import source directory into content</td></tr>
<tr><td><code>Dc.ReimportDirectory</code></td><td><code>Dc.ReimportDirectory &quot;/Game/Target&quot;</code></td><td>Recursively reimport content directory</td></tr>
<tr><td><code>Dc.SetupAutoReimport</code></td><td><code>Dc.SetupAutoReimport &quot;C:/Src/Dir&quot; &quot;/Game/Target&quot;</code></td><td>Setup <a href="https://docs.unrealengine.com/en-US/Basics/AssetsAndPackages/AutoReImport/index.html" title="Auto Reimport">Auto reimport</a> entry in editor settings</td></tr>
<tr><td><code>Dc.DumpDirectory</code></td><td><code>Dc.DumpDirectory &quot;/Game&quot; &quot;C:/JsonOutput&quot;</code></td><td>Recursively dump all DataAssets to JSON files</td></tr>
</tbody></table>
<h2 id="context-menu-actions"><a class="header" href="#context-menu-actions">Context Menu Actions</a></h2>
<p>Right click on any asset and there's <code>DataConfig JSON Asset</code> sub menu:</p>
<p><img src="Images/Tooling-DcJsonAssetActions.png" alt="JsonAssetActions" /></p>
<table><thead><tr><th>Name</th><th>Usage</th></tr></thead><tbody>
<tr><td>Dump To Log</td><td>Dump selected assets to Output Log</td></tr>
<tr><td>Dump To JSON</td><td>Dump selected assets to Output Log as JSON</td></tr>
<tr><td>Save to JSON</td><td>Serialize selected assets as JSON and save to disk</td></tr>
</tbody></table>
<p>See <a href="Caveats.html#dump-assets">caveats</a> for dump details.</p>
<h2 id="tool-ui"><a class="header" href="#tool-ui">Tool UI</a></h2>
<p>Finally we wrapped the commands above into a tooling panel, which can be found at &quot;Windows -&gt; JsonAsset Tool&quot; menu:</p>
<p><img src="Images/Tooling-DcJsonAssetWindow.png" alt="JsonAssetUI" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="caveats"><a class="header" href="#caveats">Caveats</a></h1>
<p>This page put together miscellaneous topics.</p>
<h2 id="unicode-handling"><a class="header" href="#unicode-handling">Unicode Handling</a></h2>
<p>We decided to use <code>FFileHelper::LoadFileToString</code> to load files into <code>FString</code> instances, which handles the following encodings:</p>
<ul>
<li>UTF8 without BOM</li>
<li>UTF8 with BOM</li>
<li>UTF16 LE with BOM</li>
<li>UTF16 BE with BOM</li>
</ul>
<p>If you can choose an encoding we recommend use UTF8 without BOM across the board. You can setup an <a href="https://editorconfig.org/" title="EditorConfig"><code>.editorconfig</code></a>to enforce it.</p>
<h2 id="dump-assets"><a class="header" href="#dump-assets">Dump Assets</a></h2>
<p>In the <a href="Tooling.html#context-menu-actions">context menu</a> we provide some shortcut actions for dumping arbitrary asset to textual presentation, which is a bit similar to UE's Export asset.</p>
<p><code>Dump to JSON</code> sample output:</p>
<pre><code>// /Game/Example
{
    &quot;$type&quot; : &quot;/DcJsonAsset/DcFixture/DcTestBPDataAsset&quot;,
    &quot;StrField&quot; : &quot;Hello DataConfig Json Asset&quot;,
    &quot;IntField&quot; : 43,
    &quot;NameField&quot; : &quot;None&quot;
}
</code></pre>
<p><code>Dump To Log</code> sample output:</p>
<pre><code># Datum: 'BlueprintGeneratedClass', 'DcTestBPDataAsset_C'
&lt;ClassRoot&gt; 'DcTestBPDataAsset_C'
|---&lt;Name&gt; 'StrField'
|---&lt;String&gt; 'Hello DataConfig Json Asset'
|---&lt;Name&gt; 'IntField'
|---&lt;Int32&gt; '43'
|---&lt;Name&gt; 'NameField'
|---&lt;Name&gt; 'None'
|---&lt;Name&gt; 'AssetImportData'
|---&lt;ClassRoot&gt; 'AssetImportData'
|   |---&lt;Name&gt; 'SourceFilePath'
|   |---&lt;String&gt; ''
|   |---&lt;Name&gt; 'SourceFileTimestamp'
|   |---&lt;String&gt; ''
|   |---&lt;Name&gt; 'SourceData'
|   |---&lt;StructRoot&gt; 'AssetImportInfo'
|   |---&lt;StructEnd&gt; 'AssetImportInfo'
|---&lt;ClassEnd&gt; 'AssetImportData'
|---&lt;Name&gt; 'AssetBundleData'
|---&lt;StructRoot&gt; 'AssetBundleData'
|   |---&lt;Name&gt; 'Bundles'
|   |---&lt;ArrayRoot&gt;
|   |---&lt;ArrayEnd&gt;
|---&lt;StructEnd&gt; 'AssetBundleData'
|---&lt;Name&gt; 'NativeClass'
|---&lt;ClassReference&gt; 'DcTestBPDataAsset_C'
&lt;ClassEnd&gt; 'DcTestBPDataAsset_C'
</code></pre>
<p>We try to make sure the dump actions doesn't crash. When running into unrecognized properties it should fail with explicit error.</p>
<p>There's also batch process <a href="Tooling.html#console-commands"><code>Dc.DumpDirectory</code></a> that dumps all data assets. We've tested it against Lyra and CitySample project and it 
have pretty readable output results. Note that currently we made minimal efforts to import the output JSON, but the current setup should've
covered most common cases.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changes"><a class="header" href="#changes">Changes</a></h1>
<p>All notable changes to this project will be documented in this file.</p>
<p>Version listed here should match with <code>VersionName</code> field in <code>DcJsonAsset.uplugin</code></p>
<h2 id="175---2025-11-30"><a class="header" href="#175---2025-11-30">1.7.5 - 2025-11-30</a></h2>
<ul>
<li>Integrate DataConfig 1.7.5</li>
</ul>
<h2 id="174---2025-4-23"><a class="header" href="#174---2025-4-23">1.7.4 - 2025-4-23</a></h2>
<ul>
<li>Integrate DataConfig 1.7.4</li>
</ul>
<h2 id="172---2024-1127"><a class="header" href="#172---2024-1127">1.7.2 - 2024-11.27</a></h2>
<ul>
<li>Integrate DataConfig 1.7.2</li>
<li>Better <code>FText</code> deserialization.
<ul>
<li>See <a href="/dataconfig/Advanced/CoreTypes.html#ftext">DataConfig - Core Types - FText</a></li>
</ul>
</li>
</ul>
<h2 id="171---2024-1113"><a class="header" href="#171---2024-1113">1.7.1 - 2024-11.13</a></h2>
<ul>
<li>Integrate DataConfig 1.7.1</li>
<li>Support for UE 5.5</li>
</ul>
<h2 id="161---2024-428"><a class="header" href="#161---2024-428">1.6.1 - 2024-4.28</a></h2>
<ul>
<li>Integrate DataConfig 1.6.1
<ul>
<li>Integrate CoreTypes serializers.</li>
</ul>
</li>
<li>Support for UE 5.4</li>
</ul>
<h2 id="143---2023-9-10"><a class="header" href="#143---2023-9-10">1.4.3 - 2023-9-10</a></h2>
<ul>
<li>Integrate DataConfig 1.4.3</li>
</ul>
<h2 id="141---2023-5-13"><a class="header" href="#141---2023-5-13">1.4.1 - 2023-5-13</a></h2>
<ul>
<li>Integrate DataConfig 1.4.1</li>
<li><a href="Schema.html#instanced-struct">Support <code>FInstancedStruct</code> property</a></li>
<li>Support for UE 5.2.
<ul>
<li>Since this release DcJsonAsset only works with UE 5.0+.</li>
<li>You can still get older versions from Epic store for older engines versions. And DataConfigCore still committed to work on UE 4.25+.</li>
</ul>
</li>
</ul>
<h2 id="140---2022-11-17"><a class="header" href="#140---2022-11-17">1.4.0 - 2022-11-17</a></h2>
<ul>
<li>Integrate DataConfig 1.4</li>
<li>Support for UE 5.1</li>
</ul>
<h2 id="130---2022-6-20"><a class="header" href="#130---2022-6-20">1.3.0 - 2022-6-20</a></h2>
<p>Checkout blog post <a href="/blog/dataconfig-dcjsonasset-1-3/">&quot;DataConfig Core and JSON Asset 1.3 Release&quot;</a>.</p>
<ul>
<li>
<p><strong>NEW</strong> Dump data asset to JSON:</p>
<ul>
<li><a href="Tooling.html#console-commands"><code>Dc.DumpDirectory</code></a></li>
<li><a href="Tooling.html#context-menu-actions">Context menu 'Dump to JSON, Save to JSON'</a></li>
</ul>
</li>
<li>
<p><strong>FIX</strong> Core change and fixes:</p>
<ul>
<li>Integrate DataConfig 1.3</li>
<li><a href="Schema.html#fprimaryassetid">Support <code>FPrimaryAssetId</code> property</a></li>
<li><a href="Schema.html#object-references">Support <code>FSoftObjectPath/FSoftClassPath</code> property</a></li>
</ul>
</li>
<li>
<p><strong>NEW</strong> Docs:</p>
<ul>
<li><a href="Integration.html">Integration</a></li>
<li><a href="Caveats.html#dump-assets">Caveats - Dump</a></li>
</ul>
</li>
<li>
<p><strong>KNOWN ISSUE</strong>:</p>
<ul>
<li>Some &quot;DcJsonAsset&quot; tests fail on UE 4.25/4.26 due to fixture assets are created in newer engine versions.<br>
This doesn't affect actual usage though.</li>
</ul>
</li>
</ul>
<h2 id="122---2022-4-6"><a class="header" href="#122---2022-4-6">1.2.2 - 2022-4-6</a></h2>
<ul>
<li>Integrate DataConfig 1.2.2</li>
<li>Support for <a href="https://docs.unrealengine.com/5.0/en-US/unreal-engine-5-0-release-notes/">UE 5.0.0</a></li>
</ul>
<h2 id="120---2022-1-26"><a class="header" href="#120---2022-1-26">1.2.0 - 2022-1-26</a></h2>
<ul>
<li>Integrate DataConfig 1.2.0</li>
<li>Allow <code>/path/to/Blueprint</code> in <code>UClass</code> field positions</li>
<li>Added <code>$reimport-keep-instance</code> meta field.</li>
<li>Support Blueprint Enum.</li>
</ul>
<h2 id="111---2021-10-9"><a class="header" href="#111---2021-10-9">1.1.1 - 2021-10-9</a></h2>
<ul>
<li>Support UE 4.27</li>
<li>Integrate <a href="https://slowburn.dev/dataconfig/Changes.html#111---2021106">DataConfig Core 1.1.1</a></li>
<li>Show versions in JsonAsset tool widget.</li>
</ul>
<h2 id="11---2021-4-24"><a class="header" href="#11---2021-4-24">1.1 - 2021-4-24</a></h2>
<ul>
<li>Integrate <a href="https://slowburn.dev/dataconfig/Changes.html#110---2021-4-24">DataConfig Core 1.1.0</a></li>
<li>Fix UTF8 / UTF16 JSON file importing. Previously non ASCII characters are loaded as <code>?</code></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
